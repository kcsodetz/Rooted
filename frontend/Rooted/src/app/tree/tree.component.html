
<div>


  <div>
   
   
      <div class="row">
          <div class="profileInfo col-8">
              <h1 class="treeTitle">{{myTree.treeName}}</h1>
          </div>
          <div class="profileInfo col">
              <div class="row" style="justify-content: right;">
                  <button mdbBtn type="button" color="success"
                  mdbWavesEffect (click)=back()  ><i class="fa fa-arrow-left"> </i> Back
                  to Your Trees </button>
                  <button mdbBtn type="button" color="success" >
                      <a (click)=renderAdminDashboard()>  Admin Dashboard <i class="fa fa-shield"> </i></a>
                  </button>
                  <button mdbBtn type="button" color="success"
                  mdbWavesEffect (click)=back() routerLink="/photo-library" >Request to Join </button>
                  <button mdbBtn type="button" color="success" >
                     <a href="#" routerLink="/report-group" [state]="{ data: {treeID: myTree.ID, treeName: myTree.treeName, reporter: username}}" class="my-4"> Report
                       Group </a>
                 </button>
                
              </div>
          </div>
         
      </div>
   

    <div  class="mainDiv">
      
      <div class="">
        <div class="grid-item" style="padding: 0;">
        
          <div class="overflowTest" *ngIf="show">
            <div *ngFor="let m of messages">
              <b>{{m.user}}</b>:
              {{m.message}}
            </div>
          </div>
          <br>

          <div *ngIf="show"><input #box placeholder="Add message" class="messagesInput"
              (keyup.enter)="addMessage(box.value);box.value=''"> <a class="iconSize" (click)="addMessage(box.value);box.value=''"><i
                class="fa fa-angle-double-right"></i></a></div>
        </div>

        <div class="grid-item">
          <nav class="nav green lighten-4 py-4 row">
              <a class="nav-link active" href="#">Tree</a>
              <a class="nav-link" href="#">Anouncements</a>
              <a class="nav-link" href="#">About</a>
              <a class="nav-link" href="#">Timeline</a>
              <a class="nav-link" href="#">Photos</a>
             
          </nav>
          <mdb-card borderColor="border-success">
            <mdb-card-body>
              <mdb-card-title>
                  <h3>2019</h3>
              </mdb-card-title>
              <div class="usericon" *ngFor="let member of myTree.members">
                <i class="fas fa-user-circle fa-5x fa-green-text green-text pr-3 ml-3"></i>
                <span><a onclick="document.getElementById('userinfo').style.display='block'">
                  {{member}}</a></span>
                  <div id="userinfo" class="w3-modal">
                      <div class="w3-modal-content">
                        <div class="w3-container">
                          <!-- Card Container and Body -->
                          <mdb-card>
                            <mdb-card-body>
                                <span onclick="document.getElementById('userinfo').style.display='none'"
                                class="w3-button w3-display-topright">&times;</span>
                                <button mdbBtn href="#" routerLink="/profile" color="success" block="true" class="my-4">
                                  View {{member}}'s' Profile!</button>
                                <button mdbBtn type="button" color="danger" class="report my-4">
                                    <a href="#" routerLink="/report-user" [state]="{ data: {treeID: myTree.ID, userToReport: member}}">
                                    Report This User</a>
                                </button>
                            </mdb-card-body>
                          </mdb-card>
                          <!-- Card Container and Body -->
                        </div>
                      </div>
                  </div>
              </div>
            </mdb-card-body>
          </mdb-card>

          <div class="adjustLeftMargin">
            <h4 >Members of {{myTree.treeName}}</h4>
            <button style="float: right;" mdbBtn type="button" color="success" mdbWavesEffect
            onclick="document.getElementById('id02').style.display='block'">Add Member <i class="fa fa-user">
            </i></button>
            <div id="id02" class="w3-modal">
              <div class="w3-modal-content">
                <div class="w3-container">
                    <mdb-card-body>
                      <form (submit)="addUser(g)" #g="ngForm" class="text-center border border-light p-5"
                        [formGroup]="addUserForm">

                        <h4 class="pageHeader">Add Member</h4>

                        <div class="form-group">
                          <label>By Rooted Username</label>
                          <input type="text" id="addUser" formControlName="username" class="form-control"
                            placeholder="Username" [(ngModel)]="username"
                            [ngClass]="{ 'is-invalid': submitted && form_add_user.username.errors }">
                          <div *ngIf="submitted && form_add_user.username.errors" class="invalid-feedback">
                            <div *ngIf="form_add_user.username.errors.required">
                              <p style="font-size:15px;">
                                Username is required
                              </p>
                            </div>
                          </div>
                          <div *ngIf="response === 'NoUser'" class="alert alert-danger" role="alert">
                            Username does not exist in our records.
                          </div>
                          <div *ngIf="response === 'Dup'" class="alert alert-danger" role="alert">
                            User is already in this tree.
                          </div>
                          <div *ngIf="response === 'fatalError'" class="alert alert-danger" role="alert">
                            A Fatal Error has occured. Please try again at another time.
                          </div>
                        </div>

                        <div class="form-group">
                            <label>By Email</label>
                            <input type="text" id="addUserEmail" class="form-control"
                              placeholder="Email">
                            <input type="text" id="addUserName" class="form-control"
                              placeholder="Name">
                        </div>

                        <div class="row">
                            <button mdbBtn color="success" block="true" class="my-4" type="submit" prevent-default>Add
                                User</button>
                            <button (click)="cancel()" type="button"
                                onclick="document.getElementById('id02').style.display='none'" mdbBtn color="success"
                                block="true" class="my-4">Cancel</button>
                        </div>
                        
                      </form>
                    </mdb-card-body>
                </div>
              </div>
            </div>
            <h5>Founder: {{myTree.founder}}</h5>
            <h5>Members: {{myTree.members}} </h5>
          </div>

          <html>
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
          <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" media="screen" />
         

          </html>

        
        </div>
      </div>


    </div>
  </div>


  

</div>